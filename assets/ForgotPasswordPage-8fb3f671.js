import{F as y,G as v,r as f,N,j as a,C as P,a2 as S,T as t,ai as l,B as c,Z as m,a8 as d,P as w,aj as k,a9 as T,ao as E}from"./index-d1e9d783.js";import{c as F,a as L,u as W,o as q}from"./index.esm-590aa197.js";const R=()=>{var n;const{t:e}=y(),h=v(),[u,x]=f.useState(!1),{loading:s,error:i}=N(r=>r.auth),p=F().shape({email:L().email(e("validation.invalidEmail")).required(e("validation.required"))}),{register:j,handleSubmit:b,formState:{errors:o}}=W({resolver:q(p)}),g=async r=>{try{await h(E(r.email)).unwrap(),x(!0)}catch{}};return a.jsx(P,{maxWidth:"sm",className:"py-12",children:a.jsxs(S,{elevation:3,className:"p-8",children:[a.jsx(t,{variant:"h4",component:"h1",className:"text-center mb-6 font-bold",children:e("auth.forgotPassword")}),i&&a.jsx(l,{severity:"error",className:"mb-4",children:i}),u?a.jsxs(c,{children:[a.jsx(l,{severity:"success",className:"mb-4",children:e("auth.resetLinkSent")}),a.jsx(t,{variant:"body1",className:"mb-4",children:e("auth.checkEmailInstructions")}),a.jsx(m,{component:d,to:"/auth/login",variant:"contained",color:"primary",fullWidth:!0,children:e("auth.backToLogin")})]}):a.jsxs(a.Fragment,{children:[a.jsx(t,{variant:"body1",className:"mb-6",children:e("auth.forgotPasswordInstructions")}),a.jsxs("form",{onSubmit:b(g),className:"space-y-4",children:[a.jsx(w,{label:e("auth.email"),type:"email",fullWidth:!0,...j("email"),error:!!o.email,helperText:(n=o.email)==null?void 0:n.message,disabled:s}),a.jsx(m,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,size:"large",disabled:s,startIcon:s&&a.jsx(k,{size:20,color:"inherit"}),children:e(s?"common.loading":"auth.sendResetLink")}),a.jsx(c,{className:"text-center mt-4",children:a.jsxs(t,{variant:"body2",children:[e("auth.rememberPassword")," ",a.jsx(T,{component:d,to:"/auth/login",underline:"hover",children:e("auth.login")})]})})]})]})]})})};export{R as default};
